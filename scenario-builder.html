<!doctype html>
<html lang="en-au">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Scenario Builder – Echo Platoon</title>
  <link rel="stylesheet" href="css/terminal.css" />
  <style>
    .form-grid{display:grid;gap:12px;margin-bottom:14px}
    label{display:block;margin-bottom:4px}
    input[type=text],textarea{width:100%;padding:6px;border:1px solid var(--grid);border-radius:6px;background:#0d1209;color:var(--ink)}
    textarea{min-height:60px}
    fieldset{border:1px solid var(--grid);border-radius:8px;margin:10px 0;padding:10px}
    legend{padding:0 6px;font-size:14px}
    .flex{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:6px}
    .btn-small{padding:4px 6px;font-size:12px}
    .actions{display:flex;gap:8px;margin:10px 0}
    [draggable=true]{cursor:move}
    pre{background:#0d1209;border:1px solid var(--grid);border-radius:8px;padding:10px;overflow:auto}
  </style>
</head>
<body>
<header class="site-head">
  <div class="wrap">
    <div class="brand">
      <span class="badge">⚔️</span>
      <div class="brand-text">
        <div class="kicker">Echo Platoon</div>
        <h1 class="title">Scenario Builder</h1>
      </div>
    </div>
  </div>
</header>

<main class="wrap">
<section class="panel">
  <h2 class="panel-head">Scenario Builder</h2>
  <div class="panel-body">
    <p class="muted">Fill out the fields below. Add nodes, codes, and hints as required. Drag items to reorder them. The scenario JSON updates live below for copy and paste, or click <strong>Update JSON</strong> to refresh it manually.</p>
    <form id="builder">
       <div class="form-grid">
         <div>
           <label for="id">Scenario ID</label>
           <input id="id" type="text" required />
         </div>
         <div>
           <label for="title">Title</label>
           <input id="title" type="text" required />
         </div>
         <div>
           <label for="objective">Objective</label>
           <input id="objective" type="text" required />
         </div>
       </div>

       <fieldset id="codesField">
         <legend>Codes</legend>
         <div id="codes"></div>
         <button type="button" class="btn btn-small" id="addCode">Add code</button>
       </fieldset>

       <fieldset id="nodesField">
         <legend>Nodes</legend>
         <div id="nodes"></div>
         <button type="button" class="btn btn-small" id="addNode">Add node</button>
       </fieldset>

       <fieldset>
         <legend>Global Hints</legend>
         <div id="globalHints"></div>
         <button type="button" class="btn btn-small" id="addGlobalHint">Add hint</button>
       </fieldset>

    </form>

    <div class="actions">
      <button type="button" class="btn" id="updateJson">Update JSON</button>
      <button type="button" class="btn" id="downloadJson">Download JSON</button>
    </div>

    <pre id="output"></pre>

  </div>
</section>
</main>

<script type="module" src="js/builder.js"></script>
</body>
</html>

